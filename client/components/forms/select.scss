@use '../../scss/mixins';

.select {
  display: block;
  position: relative;
  user-select: none;
  box-sizing: border-box;
  width: var(--select-width, 100%);
  font-size: 0;
  --icon-color: var(--select-text-color, var(--color-base));
  --icon-stroke: 2;
  --icon-size: 20px;

  select {
    display: block;
    margin: 0;
    padding: var(--select-padding, 0 42px 0 16px);
    width: 100%;
    height: var(--select-height, 38px);
    border: none;
    border-radius: mixins.radius(var(--select-height, 38px));
    box-sizing: border-box;
    background: var(--input-bg, var(--color-edge));
    box-shadow: var(--input-shadow, inset 0 0 0 1px var(--color-weak));
    outline: 2px dashed mixins.mix-alpha(var(--color-focus), 0%);
    outline-offset: -1px;
    font-size: var(--select-text-size, 14px);
    color: var(--select-text-color, var(--color-base));
    transition: box-shadow 160ms ease-out, outline-color 160ms ease-out;
    -webkit-appearance: none;
  }
  // disabled
  &:has(:disabled) {
    opacity: .5;
    select {
      cursor: not-allowed;
    }
    svg {
      opacity: .5;
    }
  }
  // focus
  &:has(:focus:not(:disabled)) {
    select {
      outline-color: var(--color-focus);
      --input-shadow: inset 0 0 0 1px mixins.mix-alpha(var(--color-focus), 0%);
    }
  }
  // arrow icon
  svg {
    display: block;
    position: absolute;
    right: var(--select-icon-right, 12px);
    top: 50%;
    pointer-events: none;
    translate: 0 -50%;
  }
}

// placeholder
.placeholder {
  select {
    color: var(--input-placeholder, var(--color-weak));
  }
}

// size
.size {
  &--small {
    --select-height: 32px;
    --select-text-size: 12px;
    --select-padding: 0 38px 0 12px;
    --icon-size: 14px;
    --icon-stroke: 2.5;
  }
}
