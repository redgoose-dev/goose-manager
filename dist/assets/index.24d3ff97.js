import{c as v,a as d,b as E,d as y,o as l,e as k,f as b,r as O,g as w,h as R,i as m,u as _,w as A,j as L,k as P,l as D,m as j,n as I,p as S,q as V}from"./vendor.cc7e59d8.js";const T=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}};T();const C="modulepreload",f={},N="/",i=function(o,r){return!r||r.length===0?o():Promise.all(r.map(n=>{if(n=`${N}${n}`,n in f)return;f[n]=!0;const e=n.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const s=document.createElement("link");if(s.rel=e?"stylesheet":C,e||(s.as="script",s.crossOrigin=""),s.href=n,document.head.appendChild(s),e)return new Promise((h,g)=>{s.addEventListener("load",h),s.addEventListener("error",g)})})).then(()=>o())},G=[{path:"/auth/login/",name:"AuthLogin",component:()=>i(()=>import("./login.302f0ec0.js"),["assets/login.302f0ec0.js","assets/login.8158df1f.css","assets/vendor.cc7e59d8.js","assets/basic.604ea11a.js","assets/basic.58da65f1.css","assets/index.8f90576a.js"]),meta:{layout:"blank"}}],x=[{path:"/guide/",name:"Guide",component:()=>i(()=>import("./index.4df04ddc.js"),["assets/index.4df04ddc.js","assets/index.498c77d0.css","assets/vendor.cc7e59d8.js"]),children:[{path:"button/",name:"GuideButton",component:()=>i(()=>import("./button.20e4e80a.js"),["assets/button.20e4e80a.js","assets/button.02a2fa2e.css","assets/basic.604ea11a.js","assets/basic.58da65f1.css","assets/index.8f90576a.js","assets/vendor.cc7e59d8.js"])},{path:"form/",name:"GuideForm",component:()=>i(()=>import("./form.d70970f6.js"),["assets/form.d70970f6.js","assets/vendor.cc7e59d8.js"])},{path:"icon/",name:"GuideIcon",component:()=>i(()=>import("./icon.a0cd2fdf.js"),["assets/icon.a0cd2fdf.js","assets/icon.6f01e44b.css","assets/index.8f90576a.js","assets/vendor.cc7e59d8.js"])},{path:"color/",name:"GuideColor",component:()=>i(()=>import("./color.8fefc134.js"),["assets/color.8fefc134.js","assets/vendor.cc7e59d8.js"])},{path:"file/",name:"GuideFile",component:()=>i(()=>import("./file.ab87a38e.js"),["assets/file.ab87a38e.js","assets/vendor.cc7e59d8.js"])},{path:"modal/",name:"GuideModal",component:()=>i(()=>import("./modal.c3b3b402.js"),["assets/modal.c3b3b402.js","assets/vendor.cc7e59d8.js"])},{path:"etc/",name:"GuideEtc",component:()=>i(()=>import("./etc.094cd147.js"),["assets/etc.094cd147.js","assets/vendor.cc7e59d8.js"])}]}],M=[{path:"/apps/",name:"Apps",component:()=>i(()=>import("./index.0db316a3.js"),["assets/index.0db316a3.js","assets/vendor.cc7e59d8.js"]),children:[]}],$=[];var q=[{path:"/",name:"Dashboard",component:()=>i(()=>import("./index.d540a613.js"),["assets/index.d540a613.js","assets/vendor.cc7e59d8.js"])},...G,...M,...$,...x,{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>i(()=>import("./404.474c2dbc.js"),["assets/404.474c2dbc.js","assets/vendor.cc7e59d8.js"]),meta:{layout:"blank"}}];const B="goose-manager";function F(){return!!window.localStorage}function U(t){if(!!(F()&&t))try{return JSON.parse(window.localStorage.getItem(`${B}-${t}`))}catch{return}}var J={lang:"ko",navigation:[{name:"Apps",link:"/apps/"},{name:"Nests",link:"/nests/"},{name:"Users",link:"/users/",admin:!0},{name:"JSON",link:"/json/"},{name:"Resource",children:[{name:"GitHub",href:"https://github.com/redgoose-dev/goose-manager",target:"_blank"},{name:"API Documentation",href:"https://github.com/redgoose-dev/goose-api/wiki",target:"_blank"}]},{name:"Checklist",link:"/checklist/",icon:"check"}],dashboard:{},nests:{},articles:{pageCount:24,pageRange:10,displayDateField:"regdate",filter:{type:"all",order:"srl",sort:"desc",skin:"card"}},files:{pageCount:24},checklist:{reset:"05:00",format:"{yyyy}-{MM}-{dd} ({week})",range:{year:[2020,2030,2040,2050]},filter:{year:"",month:"",sort:"desc"}}};function z(){const t=U("preference");return t?JSON.parse(t):J}var H={header:{title:"goose-manager",description:"management redgoose contents",shortName:"GOOSE"},token:null,user:null,preference:z()},W=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),K=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),c=v({state:H,mutations:W,actions:K});function Q(t,o){c.state.token=t,c.state.user=o}function X(){c.state.token=null,c.state.user=null}async function Y(){var t;try{if(c.state.token&&((t=c.state.user)==null?void 0:t.srl))return!0;const o=await d.post("/local/auth");if(!o.data.success)throw new Error("failed auth");const{token:r,user:n}=o.data.data;return Q(r,n),!0}catch{return!1}}async function ce(){if(!(await d.post("/local/logout/")).data.success)throw new Error("Failed request");X(),u.replace("/auth/login")}const u=E({base:"/",history:y(),routes:q});u.beforeEach(async(t,o)=>{const r=await Y();switch(t.name){case"AuthLogin":return r?"/":void 0;default:return r?void 0:"/auth/login"}});u.afterEach((t,o)=>{});function p(t){window.DEBUG&&console.error("SERVICE ERROR:",t.message)}var Z=(t,o)=>{const r=t.__vccOpts||t;for(const[n,e]of o)r[n]=e;return r};const ee={},te=b("h1",null,"Service error",-1),oe=[te];function re(t,o){return l(),k("article",null,oe)}var ne=Z(ee,[["render",re]]);function ae(t){switch(t){case"./layouts/blank.vue":return i(()=>import("./blank.5b0c4797.js"),["assets/blank.5b0c4797.js","assets/vendor.cc7e59d8.js"]);case"./layouts/default.vue":return i(()=>import("./default.16bc7c68.js"),["assets/default.16bc7c68.js","assets/default.c53798dd.css","assets/vendor.cc7e59d8.js","assets/index.8f90576a.js","assets/basic.604ea11a.js","assets/basic.58da65f1.css"]);default:return new Promise(function(o,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const se={setup(t){const o=D(),r=O(null),n=w(()=>{let e=o.meta.layout||"default";return o.name?(c.state.user||(e="blank"),j(()=>ae(`./layouts/${e}.vue`))):null});return R((e,a,s)=>(console.error(e,a,s),r.value=e,p(e),!1)),u.onError(e=>{r.value=e,p(e)}),(e,a)=>{const s=I("router-view");return r.value?(l(),m(ne,{key:0,data:r.value},null,8,["data"])):_(n)?(l(),m(L(_(n)),{key:1},{default:A(()=>[S(s)]),_:1})):P("",!0)}}};window.DEBUG=!0;document.title="goose-manager";document.querySelector("meta[name=description]").setAttribute("content","management redgoose contents");V(se,{}).use(u).mount("#app");export{Z as _,Q as a,ce as l,u as r,c as s};
